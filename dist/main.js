var myApp;(()=>{"use strict";var t={};(t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);const e=["aahed","aalii","aargh","aarti","abaca","abaci","abacs","abaft","abaka","abamp","aband","abash","abask","abaya","abbas","abbed","abbes","abcee","abeam","abear","abele","abers","abets","abies","abler","ables","ablet","ablow","abmho","abohm","aboil","aboma","aboon","abord","abore","abram","abray","abrim","abrin","abris","absey","absit","abuna","abune","abuts","abuzz","abyes","abysm","acais","acari","accas","accoy","acerb","acers","aceta","achar","ached","aches","achoo","acids","acidy","acing","acini","ackee","acker","acmes","acmic","acned","acnes","acock","acold","acred","acres","acros","acted","actin","acton","acyls","adaws","adays","adbot","addax","added","adder","addio","addle","adeem","adhan","adieu","adios","adits","adman","admen","admix","adobo","adown","adoze","adrad","adred","adsum","aduki","adunc","adust","advew","adyta","adzed","adzes","aecia","aedes","aegis","aeons","aerie","aeros","aesir","afald","afara","afars","afear","aflaj","afore","afrit","afros","agama","agami","agars","agast","agave","agaze","agene","agers","agger","aggie","aggri","aggro","aggry","aghas","agila","agios","agism","agist","agita","aglee","aglet","agley","agloo","aglus","agmas","agoge","agone","agons","agood","agria","agrin","agros","agued","agues","aguna","aguti","aheap","ahent","ahigh","ahind","ahing","ahint","ahold"];class a{constructor(){this._defaultPath="http://shevchukword.free.beeceptor.com/"}getWordsWithFile(){return e}}const s={absent:{value:"absent",color:"dimgrey",icon:"‚¨ú",order:2},present:{value:"present",color:"#c9b458",icon:"üü®",order:1},correct:{value:"correct",color:"#6aaa64",icon:"üü©",order:0}};class r{constructor(){this.timeInterval,this.executeWithAllTick=[],this.executeAfterStopTimer=[]}addAllTickHeandler(t){this.executeWithAllTick.push(t)}addAfterStopTimerHeandler(t){this.executeAfterStopTimer.push(t)}updateClock(t){var e=this._getTimeRemaining(t);this.executeWithAllTick.forEach((t=>t(e))),e.total<=0&&(this.executeAfterStopTimer.forEach((t=>t())),clearInterval(this.timeInterval))}stratTimer(t){null!=this.timeinterval&&clearInterval(this.timeinterval),this.timeInterval=setInterval((()=>{this.updateClock(t)}),1e3)}_getTimeRemaining(t){let e=Date.parse(t)-Date.parse(new Date),a=Math.floor(e/1e3%60),s=Math.floor(e/1e3/60%60);return{total:e,hours:Math.floor(e/36e5%24),minutes:s,seconds:a}}}const o=6e4;class i{constructor(){this._clock=new r,this._curentWordIdnex=-1,this._wordle=["cigar","rebut","sissy","humph","awake","blush","focal","evade","naval"],this.states={boardState:[],evaluations:[],rowIndex:0,solution:null,gameStatus:0,lastPlayedTs:null,lastCompletedTs:null,restoringFromLocalStorage:null},this._init()}_init(){null==localStorage.getItem("gameState")?(this._prepareLocalStore(this._curentWordIdnex),localStorage.setItem("gameState",JSON.stringify(this.states))):(this.states=JSON.parse(localStorage.getItem("gameState")),this._curentWordIdnex=this.states.boardState.length),0!=this.states.gameStatus&&this._clock.stratTimer(new Date(this.states.lastCompletedTs+o))}_prepareLocalStore(t){if(t<0){this._curentWordIdnex=0,this.states.solution=this._wordle[0],this.states.rowIndex=0;let t=new Date;this.states.lastPlayedTs=t.getTime(),this.states.lastCompletedTs=t.getTime()}else this.states.solution=this._wordle[t],this._curentWordIdnex=this.states.boardState.count}static build(){var t=new a,e=new i;let s=t.getWordsWithFile();return e.setWords(s),e.addHandlerAfterTicketClock((()=>{e.startNewGame()})),e}addHeandlerForAllTickClock(t){this._clock.addAllTickHeandler(t)}addHandlerAfterTicketClock(t){this._clock.addAfterStopTimerHeandler(t)}getSharedResultMessage(){let t="";return this.states.evaluations.forEach((e=>{t+="\n",e.forEach((e=>{t+=s[e].icon}))})),t}getCurrentGameStatus(){return this.states.gameStatus}game–ÜsStillLive(){return new Date(this.states.lastCompletedTs+o)<=new Date}startNewGame(){this.states.solution=this._wordle[Math.floor(Math.random()*this._wordle.length)],this.states.rowIndex=0,this.states.boardState=[],this.states.evaluations=[],this.states.lastCompletedTs=(new Date).getTime(),this.states.gameStatus=0,localStorage.setItem("gameState",JSON.stringify(this.states))}setWords(t){this._wordle=t}GetRowIndex(){return this.states.rowIndex}wordsAreFilled(){return this.states.boardState.length>=5}writeWords(t){if(!this.wordsAreFilled()&&0==this.states.gameStatus){let e=this._evaluationWord(t);this.states.evaluations.push(e),this.states.boardState.push(t),this.states.lastCompletedTs=(new Date).getTime();let a={word:t,rowIndex:this.states.rowIndex,evaluations:e};return this._isWin(t)&&(this.states.gameStatus=1,this._clock.stratTimer(new Date(this.states.lastCompletedTs+o))),!this._isWin(t)&&this.wordsAreFilled()&&(this._clock.stratTimer(new Date(this.states.lastCompletedTs+o)),this.states.gameStatus=2),this.states.rowIndex+=1,localStorage.setItem("gameState",JSON.stringify(this.states)),a}}getAllWordsWithEvaluation(){return this.states.boardState.map(((t,e)=>({word:t,evaluations:this.states.evaluations[e]})))}_isWin(t){return this.states.solution.toLowerCase()==t}_evaluationWord(t){let e=[];for(let a=0;a<t.length;a++)this._wordLetterIsIncCorrectPlace(t[a],a)?e.push(s.correct.value):this._wordLetterIsContainsInWord(t[a])?e.push(s.present.value):e.push(s.absent.value);return e}_wordLetterIsContainsInWord(t){return this.states.solution.includes(t)}_wordLetterIsIncCorrectPlace(t,e){return this.states.solution[e]==t}}let l=i.build(),n=new class{constructor(t,e){this._rows=[],this._rowSelector=t,this._cellSelector=e,this._readAllCell()}_readAllCell(){document.querySelectorAll(this._rowSelector).forEach((t=>{this._rows.push(Array.from(t.querySelectorAll(this._cellSelector)))}))}cellSetValue(t,e,a,s){this._rows[t][e].textContent=a,null!=s&&this.cellSetBacground(t,e,s)}cellSetBacground(t,e,a){this._rows[t][e].setAttribute("style",`background-color: ${a}`)}clearDasboard(){for(let t=0;t<this._rows.length;t++)for(let e=0;e<this._rows[t].length;e++)this._rows[t][e].textContent="",this._rows[t][e].setAttribute("style","background-color: ")}}("div.field-row","div.tile"),c=new class{constructor(t,e,a,s,r,o){this._keySelector=t,this._enterSelector=e,this._backSpaceSelector=a,this._enterBoardHandler=s,this._backSpaceHandler=r,this._keyBoardHandler=o,this._buttons=[],this._initKeyBoard()}_initKeyBoard(){document.querySelectorAll("[enter-key]").forEach((t=>{t.addEventListener("click",this._enterBoardHandler)})),document.querySelectorAll("[data-key]").forEach((t=>{this._buttons.push({button:t,value:t.textContent,color:void 0}),t.addEventListener("click",(()=>{this._keyBoardHandler(t)}))})),document.querySelectorAll("[back-key]").forEach((t=>{t.addEventListener("click",this._backSpaceHandler)}))}getButtonColor(t){this._getButton(t).color}setButtonColor(t,e){this._getButton(t).button.setAttribute("style",`background-color: ${e}`),this._getButton(t).color=e}clearBacground(){this._buttons.forEach((t=>{t.color=void 0,t.button.setAttribute("style","background-color: ")}))}_getButton(t){return this._buttons.find((e=>e.value==t))}}("button.enter-key","enter-key","button.enter-key",(function(){u.currentWord.length>4&&(0==l.getCurrentGameStatus()?(!function(t){for(let e=0;e<t.evaluations.length;e++)n.cellSetBacground(t.rowIndex,e,s[t.evaluations[e]].color),h(t.word[e],s[t.evaluations[e]].color)}(l.writeWords(u.currentWord)),u.currentWord="",u.curentWordIndex=l.GetRowIndex()):l.game–ÜsStillLive()||(u.currentWord="",u.curentWordIndex=l.GetRowIndex()))}),(function(){u.currentWord=u.currentWord.slice(0,-1),n.cellSetValue(u.curentWordIndex,u.currentWord.length,"")}),(function(t){var e;e=t.innerHTML,u.currentWord.length<5&&(u.currentWord+=e,u.curentWordIndex=l.GetRowIndex(),n.cellSetValue(u.curentWordIndex,u.currentWord.length-1,e))})),d=(new class{constructor(){this.statusPage=!1,this.buttonIn={},this.buttonOut={},this.rulePage={},this.gamePage={},this.keyboardPage={},this.header={},this.initRule()}initRule(){this.rulePage=document.querySelector("div.rule"),this.buttonIn=document.querySelector("button.infoButton"),this.gamePage=document.querySelector("div.game"),this.keyboardPage=document.querySelector("div.container-cay-bord"),this.header=document.querySelector("header.header"),this.buttonOut=document.querySelector(".iconRuleHeader .fa-times"),this.buttonIn.addEventListener("click",(()=>{this.statusPage=!this.statusPage,this.displayPage(),console.log(this.gamePage)})),this.buttonOut.addEventListener("click",(()=>{this.statusPage=!this.statusPage,this.displayPage(),console.log(this.gamePage)}))}displayPage(){this.statusPage&&(this.rulePage.style.display="block",this.gamePage.style.display="none",this.keyboardPage.style.display="none",this.header.style.display="none"),this.statusPage||(this.rulePage.style.display="none",this.gamePage.style.display="block",this.keyboardPage.style.display="block",this.header.style.display="block")}},new class{constructor(t){this.message="",this.buttonIn={},this.buttonOut={},this.statisticPopup={},this.buttonShared={},this.massageHandler=t,this._initStates()}_initStates(){this.buttonOut=document.querySelector("#buttonOutPopup"),this.statisticPopup=document.querySelector("#popUp"),this.buttonIn=document.querySelector("#status"),this.buttonShared=document.querySelector("#shareButton"),this.buttonIn.addEventListener("click",(()=>{this._displayStatistics()})),this.buttonOut.addEventListener("click",(()=>{this._hideStatistics()})),this.buttonShared.addEventListener("click",(()=>{this._buffer(this.massageHandler())}))}_buffer(t){navigator.clipboard.writeText(t).then((()=>{})).catch((t=>{console.log("Something went wrong",t)}))}_displayStatistics(){this.statisticPopup.style.top="50%",this.statisticPopup.style.left="50%"}_hideStatistics(){this.statisticPopup.style.top="-200%"}hiddenTimer(){document.querySelector("#timerContainer").style.visibility="hidden"}_initializeClock(t){document.querySelector("#clock");let e=document.querySelector(".hours"),a=document.querySelector(".minutes"),s=document.querySelector(".seconds");e.innerHTML=("0"+t.hours).slice(-2),a.innerHTML=("0"+t.minutes).slice(-2),s.innerHTML=("0"+t.seconds).slice(-2),document.querySelector("#timerContainer").style.visibility="visible"}}((()=>l.getSharedResultMessage())));l.addHeandlerForAllTickClock(d._initializeClock),l.addHandlerAfterTicketClock(d.hiddenTimer),l.addHandlerAfterTicketClock((()=>n.clearDasboard())),l.addHandlerAfterTicketClock((()=>c.clearBacground())),d.hiddenTimer();let u={curentWordIndex:l.GetRowIndex(),currentWord:"",statisticsSuchGame:{}};function h(t,e){let a=function(t,e){if(null==t)return e;let a,r;for(var o in s)s[o].color==t&&(a=s[o].order),s[o].color==e&&(r=s[o].order);return a<r?t:e}(c.getButtonColor(t),e);c.setButtonColor(t,a)}l.getAllWordsWithEvaluation().forEach(((t,e)=>{t.word.split("").forEach(((a,r)=>{!function(t,e,a,s){n.cellSetValue(t,e,a,s)}(e,r,a,s[t.evaluations[r]].color),h(a,s[t.evaluations[r]].color)}))})),myApp=t})();